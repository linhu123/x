# 2 优化 sql 查询语句

一个数据库的核心逻辑是通过 sql 语句体现的。

## 优化查询语句

查询，形式上体现为 `SELECT` 查询语句，执行上表现为从数据库中查找数据。
调优这些语句是最重要的，无论是为了实现动态网页的次秒级响应时间，还是为了减少生成大量夜间报告的时间。

优化查询语句的主要的考虑点：

- 让慢的 `SELECT` 语句变快,首当其冲应该考虑的是索引的使用。让索引所在的列出现在 `where` 中跟随的条件,以加快对结果的计算、筛选和最终检索。为了避免浪费空间，我们应该尽力做到使用一小组索引，让跟多的相关查询一起可以使用。

  索引对于 `join` 和外键查询十分重要，可以使用`explain`来查看`SELECT`语句用了哪些索引。

- 隔离和调优查询的任意一个部分，例如这些部分在中包含的函数调用。一般函数调用都是会话费很多的时间。
- 减少全表扫描，特别是对于一些大表。
- 通过定期使用`ANALYZE`table,来保持表统计信息的更新，这样优化器就有了构建高效执行方案的所需信息。
- 学习学习每个存储引擎的调优技术、索引技术和配置参数。
- 可以优化 InnoDB 表的单查询事务

## 界限优化

范围访问方法使用单个索引来检索包含在一个或多个索引值间隔内的表行子集。它可以用于单个部分索引或多个部分索引。以下部分描述优化器使用范围访问的条件。

### Range Access Method for Single-Part Indexes
